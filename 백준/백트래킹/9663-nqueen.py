# 📌 문제 목표
# N×N 체스판에 N개의 퀸을 서로 공격할 수 없게 놓는 경우의 수를 구하기

# 열 단위 진행: 세로 충돌 자동 방지
# O(1) 충돌 체크: 배열 3개로 행/대각선 즉시 확인
# 백트래킹: 실패 시 이전 상태로 복구하고 다른 경로 시도


# 체스판 크기 입력받기 (예: 4 → 4x4 체스판)
n = int(input())

# 정답 개수를 세는 변수
count = 0

# 각 열(세로줄)에 퀸이 놓인 행(가로줄) 번호를 저장
# 예: col[0] = 2 → 0번째 세로줄의 2번째 가로줄에 퀸이 있다
col = [0] * n

# 🚫 퀸이 공격하는 곳을 체크하는 리스트들
# 가로줄 체크: used_row[2] = True → 2번 가로줄에 이미 퀸이 있어요
used_row = [False] * n

# ↘ 오른쪽 아래 대각선 체크 (\ 모양)
# 같은 대각선은 row + col 값이 같아요!
used_diag1 = [False] * (2 * n - 1)

# ↙ 왼쪽 아래 대각선 체크 (/ 모양)  
# 같은 대각선은 row - col 값이 같아요! (+n-1은 음수 방지)
used_diag2 = [False] * (2 * n - 1)

def dfs(c):
    """
    DFS로 c번째 세로줄에 퀸을 놓는 함수
    c: 지금 몇 번째 세로줄인지 (0부터 시작)
    """
    # count를 함수 안에서 바꾸려면 global 필요해요
    global count
    
    # 🎉 모든 세로줄에 퀸을 다 놓았나요? (성공!)
    if c == n:
        count += 1  # 방법 하나 찾았어요! +1
        return  # 돌아가요
    
    # 🔍 c번째 세로줄의 모든 가로줄(0~n-1)을 하나씩 시도해요
    for r in range(n):
        # 📐 대각선 번호 계산하기
        # 예: (2,3) 위치라면...
        # d1 = 2+3 = 5번 ↘대각선
        # d2 = 2-3+n-1 = ? 번 ↙대각선
        d1 = r + c
        d2 = r - c + n - 1
        
        # ❌ 이 자리는 위험해요! (다른 퀸이 공격할 수 있어요)
        # - r번 가로줄에 이미 퀸이 있거나 (used_row[r] = True)
        # - ↘ 대각선에 이미 퀸이 있거나 (used_diag1[d1] = True)
        # - ↙ 대각선에 이미 퀸이 있거나 (used_diag2[d2] = True)
        if used_row[r] or used_diag1[d1] or used_diag2[d2]:
            continue  # 이 자리는 건너뛰고 다음 가로줄로!
        
        # ✅ 안전해요! 여기에 퀸을 놓아요 👸
        used_row[r] = True      # r번 가로줄 사용 중!
        used_diag1[d1] = True   # d1번 ↘대각선 사용 중!
        used_diag2[d2] = True   # d2번 ↙대각선 사용 중!
        
        # 🚀 다음 세로줄로 가요! (DFS - 더 깊이 들어가기)
        dfs(c + 1)
        
        # 🔙 백트래킹: 방금 놓은 퀸을 다시 치워요
        # (다른 자리도 시도해보기 위해서)
        # "아, 이 방법은 안 되는구나! 다른 방법 시도해보자!"
        used_row[r] = False     # r번 가로줄 다시 비었어요
        used_diag1[d1] = False  # d1번 ↘대각선 다시 비었어요
        used_diag2[d2] = False  # d2번 ↙대각선 다시 비었어요

# 🎮 게임 시작! 0번째 세로줄부터 퀸 놓기 시작!
dfs(0)

# 💯 총 몇 가지 방법이 있는지 출력!
print(count)


## 🎨 시각적 설명:
# 4x4 체스판 예시:

#    0 1 2 3 (세로줄 번호)
# 0  . . . .  (가로줄 0)
# 1  . . . .  (가로줄 1)  
# 2  . . . .  (가로줄 2)
# 3  . . . .  (가로줄 3)

# 퀸(Q)의 공격 범위:
#    ↑
#    |
# ←─ Q ─→  (가로, 세로 전체)
#    |
#    ↓
#   ↖ ↗
#    Q    (대각선 전체)
#   ↙ ↘

# DFS 진행 과정:
# 1. 0번 세로줄 → 0번 가로에 놓기
# 2. 1번 세로줄 → 2번 가로에 놓기 (0,1번은 위험!)
# 3. 계속 진행...
# 4. 막히면? 뒤로 돌아가서 다른 시도! (백트래킹)